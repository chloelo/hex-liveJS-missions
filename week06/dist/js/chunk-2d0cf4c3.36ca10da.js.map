{"version":3,"sources":["webpack:///./src/views/front/Cart.vue?30f0","webpack:///src/views/front/Cart.vue","webpack:///./src/views/front/Cart.vue?0568","webpack:///./src/views/front/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_v","_m","_l","item","key","product","id","removeCart","_s","title","_f","price","quantity","updateQuantity","directives","name","rawName","value","expression","domProps","target","composing","$set","carts","length","_e","removeAll","totalPrice","scopedSlots","_u","fn","ref","invalid","preventDefault","createOrder","errors","classes","order","class","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","staticRenderFns","props","data","email","tel","address","payment","message","methods","$http","$emit","created","component"],"mappings":"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","file":"js/chunk-2d0cf4c3.36ca10da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('section',{staticClass:\"cart_zone\"},[_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7\"},[_c('div',{staticClass:\"form-cart-list\"},[_c('h3',{staticClass:\"text-info\"},[_vm._v(\"購物車清單\")]),_c('table',{staticClass:\"table table-responsive-sm table-cart\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.carts),function(item){return _c('tr',{key:item.product.id},[_c('td',[_c('button',{staticClass:\"btn btn-outline-danger btn-del\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCart(item.product.id)}}},[_c('span',[_c('font-awesome-icon',{attrs:{\"icon\":\"trash-alt\"}})],1)])]),_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',[_vm._v(_vm._s(_vm._f(\"money\")(item.product.price)))]),_c('td',[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"disabled\":item.quantity === 1,\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateQuantity(item.product.id, item.quantity - 1)}}},[_vm._v(\" - \")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":(item.quantity)},on:{\"change\":function($event){return _vm.updateQuantity(item.product.id, item.quantity)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateQuantity(item.product.id, item.quantity + 1)}}},[_vm._v(\" + \")])])])]),_c('td',[_vm._v(_vm._s(_vm._f(\"money\")((item.product.price * item.quantity))))])])}),(_vm.carts.length === 0)?_c('tr',[_c('td',{staticClass:\"text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" 您尚未選擇任何商品喔！ \")])]):_vm._e()],2),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-left\",attrs:{\"colspan\":\"3\"}},[_c('button',{staticClass:\"btn btn-outline-danger btn-del\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.removeAll}},[_c('span',[_c('font-awesome-icon',{attrs:{\"icon\":\"trash-alt\"}})],1),_vm._v(\" 全部清空 \")])]),_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\" 總計：\"+_vm._s(_vm._f(\"money\")(_vm.totalPrice))+\" \")])])])])])]),_c('div',{staticClass:\"col-lg-5\"},[_c('div',{staticClass:\"order-info\"},[_c('h3',{staticClass:\"text-info\"},[_vm._v(\"填寫訂單資訊\")]),_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.name),expression:\"order.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"name\":\"username\",\"id\":\"username\",\"placeholder\":\"收件人姓名\"},domProps:{\"value\":(_vm.order.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.email),expression:\"order.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"email\",\"id\":\"email\",\"placeholder\":\"Email\"},domProps:{\"value\":(_vm.order.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required|numeric|min:8\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"tel\"}},[_vm._v(\"電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.tel),expression:\"order.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"tel\",\"id\":\"tel\",\"placeholder\":\"電話\"},domProps:{\"value\":(_vm.order.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"address\"}},[_vm._v(\"地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.address),expression:\"order.address\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"id\":\"address\",\"placeholder\":\"地址\"},domProps:{\"value\":(_vm.order.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('label',{attrs:{\"for\":\"waytopay\"}},[_vm._v(\"購買方式\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.payment),expression:\"order.payment\"}],staticClass:\"form-control\",attrs:{\"name\":\"購買方式\",\"id\":\"waytopay\",\"required\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.order, \"payment\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\"}},[_vm._v(\"請選擇付款方式\")]),_c('option',{attrs:{\"value\":\"WebATM\"}},[_vm._v(\"WebATM\")]),_c('option',{attrs:{\"value\":\"ATM\"}},[_vm._v(\"ATM\")]),_c('option',{attrs:{\"value\":\"CVS\"}},[_vm._v(\"CVS\")]),_c('option',{attrs:{\"value\":\"Barcode\"}},[_vm._v(\"Barcode\")]),_c('option',{attrs:{\"value\":\"Credit\"}},[_vm._v(\"Credit\")]),_c('option',{attrs:{\"value\":\"ApplePay\"}},[_vm._v(\"ApplePay\")]),_c('option',{attrs:{\"value\":\"GooglePay\"}},[_vm._v(\"GooglePay\")])])])]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group\"},[_c('label',{attrs:{\"for\":\"message\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order.message),expression:\"order.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"message\",\"cols\":\"30\",\"rows\":\"3\"},domProps:{\"value\":(_vm.order.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order, \"message\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col form-group text-right\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\" 送出表單 \")])])])])]}}])})],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\",\"width\":\"60px\"}},[_vm._v(\"移除\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"品名\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"單價\")]),_c('th',{attrs:{\"scope\":\"col\",\"width\":\"150px\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"小計\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <section class=\"cart_zone\">\r\n      <div class=\"container my-5\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-7\">\r\n            <div class=\"form-cart-list\">\r\n              <h3 class=\"text-info\">購物車清單</h3>\r\n              <table class=\"table table-responsive-sm table-cart\">\r\n                <!-- <caption class=\"text-info\">購物車清單</caption> -->\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" width=\"60px\">移除</th>\r\n                    <th scope=\"col\">品名</th>\r\n                    <th scope=\"col\">單價</th>\r\n                    <th scope=\"col\" width=\"150px\">數量</th>\r\n                    <th scope=\"col\">小計</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in carts\" :key=\"item.product.id\">\r\n                    <td>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-outline-danger btn-del\"\r\n                        @click=\"removeCart(item.product.id)\"\r\n                      >\r\n                        <span>\r\n                          <font-awesome-icon icon=\"trash-alt\" />\r\n                          <!-- <i class=\"fas fa-trash-alt\"></i> -->\r\n                        </span>\r\n                      </button>\r\n                    </td>\r\n                    <td>{{ item.product.title }}</td>\r\n                    <td>{{ item.product.price | money }}</td>\r\n                    <td>\r\n                      <div class=\"input-group\">\r\n                        <div class=\"input-group-prepend\">\r\n                          <button\r\n                            :disabled=\"item.quantity === 1\"\r\n                            class=\"btn btn-outline-info\"\r\n                            type=\"button\"\r\n                            @click=\"\r\n                              updateQuantity(item.product.id, item.quantity - 1)\r\n                            \"\r\n                          >\r\n                            -\r\n                          </button>\r\n                        </div>\r\n                        <input\r\n                          v-model=\"item.quantity\"\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          class=\"form-control\"\r\n                          aria-describedby=\"basic-addon1\"\r\n                          @change=\"\r\n                            updateQuantity(item.product.id, item.quantity)\r\n                          \"\r\n                        />\r\n                        <div class=\"input-group-append\">\r\n                          <button\r\n                            class=\"btn btn-outline-info\"\r\n                            type=\"button\"\r\n                            @click=\"\r\n                              updateQuantity(item.product.id, item.quantity + 1)\r\n                            \"\r\n                          >\r\n                            +\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td>{{ (item.product.price * item.quantity) | money }}</td>\r\n                  </tr>\r\n                  <tr v-if=\"carts.length === 0\">\r\n                    <td colspan=\"5\" class=\"text-center\">\r\n                      您尚未選擇任何商品喔！\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n                <tfoot>\r\n                  <tr>\r\n                    <td colspan=\"3\" class=\"text-left\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-outline-danger btn-del\"\r\n                        @click=\"removeAll\"\r\n                      >\r\n                        <span>\r\n                          <font-awesome-icon icon=\"trash-alt\" />\r\n                        </span>\r\n                        全部清空\r\n                      </button>\r\n                    </td>\r\n                    <td colspan=\"2\" class=\"text-right\">\r\n                      總計：{{ totalPrice | money }}\r\n                    </td>\r\n                  </tr>\r\n                </tfoot>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-5\">\r\n            <div class=\"order-info\">\r\n              <h3 class=\"text-info\">填寫訂單資訊</h3>\r\n              <validation-observer v-slot=\"{ invalid }\">\r\n                <form @submit.prevent=\"createOrder\">\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group\">\r\n                      <validation-provider\r\n                        rules=\"required\"\r\n                        v-slot=\"{ errors, classes }\"\r\n                      >\r\n                        <label for=\"username\">收件人姓名</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"username\"\r\n                          class=\"form-control\"\r\n                          id=\"username\"\r\n                          placeholder=\"收件人姓名\"\r\n                          :class=\"classes\"\r\n                          v-model=\"order.name\"\r\n                        />\r\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\r\n                      </validation-provider>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group\">\r\n                      <validation-provider\r\n                        rules=\"required|email\"\r\n                        v-slot=\"{ errors, classes }\"\r\n                      >\r\n                        <label for=\"email\">Email</label>\r\n                        <input\r\n                          type=\"email\"\r\n                          class=\"form-control\"\r\n                          id=\"email\"\r\n                          placeholder=\"Email\"\r\n                          :class=\"classes\"\r\n                          v-model=\"order.email\"\r\n                        />\r\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\r\n                      </validation-provider>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group\">\r\n                      <validation-provider\r\n                        rules=\"required|numeric|min:8\"\r\n                        v-slot=\"{ errors, classes }\"\r\n                      >\r\n                        <label for=\"tel\">電話</label>\r\n                        <input\r\n                          type=\"tel\"\r\n                          class=\"form-control\"\r\n                          id=\"tel\"\r\n                          placeholder=\"電話\"\r\n                          :class=\"classes\"\r\n                          v-model=\"order.tel\"\r\n                        />\r\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\r\n                      </validation-provider>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group\">\r\n                      <validation-provider\r\n                        rules=\"required\"\r\n                        v-slot=\"{ errors, classes }\"\r\n                      >\r\n                        <label for=\"address\">地址</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          id=\"address\"\r\n                          placeholder=\"地址\"\r\n                          :class=\"classes\"\r\n                          v-model=\"order.address\"\r\n                        />\r\n                        <span class=\"invalid-feedback\">{{ errors[0] }}</span>\r\n                      </validation-provider>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group\">\r\n                      <label for=\"waytopay\">購買方式</label>\r\n                      <select\r\n                        name=\"購買方式\"\r\n                        id=\"waytopay\"\r\n                        class=\"form-control\"\r\n                        v-model=\"order.payment\"\r\n                        required\r\n                      >\r\n                        <option value disabled>請選擇付款方式</option>\r\n                        <option value=\"WebATM\">WebATM</option>\r\n                        <option value=\"ATM\">ATM</option>\r\n                        <option value=\"CVS\">CVS</option>\r\n                        <option value=\"Barcode\">Barcode</option>\r\n                        <option value=\"Credit\">Credit</option>\r\n                        <option value=\"ApplePay\">ApplePay</option>\r\n                        <option value=\"GooglePay\">GooglePay</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group\">\r\n                      <label for=\"message\">留言</label>\r\n                      <textarea\r\n                        id=\"message\"\r\n                        class=\"form-control\"\r\n                        cols=\"30\"\r\n                        rows=\"3\"\r\n                        v-model=\"order.message\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"form-row\">\r\n                    <div class=\"col form-group text-right\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        class=\"btn btn-info\"\r\n                        :disabled=\"invalid\"\r\n                      >\r\n                        送出表單\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </validation-observer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: ['carts', 'totalQuantity', 'totalPrice'],\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      // totalPrice: 0,\r\n      // totalQuantity: 0,\r\n      // carts: [],\r\n      // product: {\r\n      //   imageUrl: [],\r\n      //   quantity: 1\r\n      // },\r\n      order: {\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        address: '',\r\n        payment: '',\r\n        message: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    // getCart() {\r\n    //   this.isLoading = true;\r\n    //   const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\r\n    //   this.$http\r\n    //     .get(api)\r\n    //     .then(res => {\r\n    //       this.isLoading = false;\r\n    //       this.carts = res.data.data;\r\n    //       this.product = {\r\n    //         imageUrl: [],\r\n    //         quantity: 1\r\n    //       };\r\n    //       this.totalPrice = 0;\r\n    //       this.totalQuantity = 0;\r\n    //       // 計算總金額\r\n    //       this.carts.forEach(item => {\r\n    //         this.totalPrice += item.product.price * item.quantity;\r\n    //         this.totalQuantity += item.quantity;\r\n    //       });\r\n    //     })\r\n    //     .catch(err => {\r\n    //       this.isLoading = false;\r\n    //       console.log(err);\r\n    //     });\r\n    // },\r\n    updateQuantity(id, quantity) {\r\n      if (quantity < 1) return;\r\n\r\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\r\n      const editCart = {\r\n        product: id,\r\n        quantity\r\n      };\r\n      this.$http\r\n        .patch(api, editCart)\r\n        .then(() => {\r\n          this.$emit('togetcart');\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    removeCart(id) {\r\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\r\n      this.$http\r\n        .delete(api)\r\n        .then(() => {\r\n          this.$emit('togetcart');\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    removeAll() {\r\n      this.$emit('removeallcart');\r\n    },\r\n    // removeAllCart() {\r\n    //   const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/all/product`;\r\n    //   this.$http\r\n    //     .delete(api)\r\n    //     .then(() => {\r\n    //       this.carts = {};\r\n    //       this.$emit('togetcart');\r\n    //     })\r\n    //     .catch(err => {\r\n    //       console.log(err);\r\n    //     });\r\n    // },\r\n    createOrder() {\r\n      this.isLoading = true;\r\n      const api = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/orders`;\r\n      this.$http\r\n        .post(api, this.order)\r\n        .then(() => {\r\n          this.isLoading = false;\r\n          this.order = {\r\n            name: '',\r\n            email: '',\r\n            tel: '',\r\n            address: '',\r\n            payment: '',\r\n            message: ''\r\n          };\r\n          this.$emit('togetcart');\r\n          alert('您已完成訂單，我們會盡快與您聯繫，謝謝。');\r\n          // window.location = 'products.html';\r\n          this.$router.push('/products');\r\n        })\r\n        .catch(err => {\r\n          this.isLoading = false;\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    this.$emit('togetcart');\r\n    // this.carts = this.outcarts;\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scope></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=441693a6&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}